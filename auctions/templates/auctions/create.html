{% extends "auctions/layout.html" %}

{% block body %}
    <h2>Create Listings</h2>

    {% if form.errors %}
        <div class="alert alert-danger">
            {% for field, error in form.errors.items %}
                <p>{{ error }}</p>
            {% endfor %}
        </div>
    {% endif %}

    <form action="{% url 'create' %}" method="POST">
        {% csrf_token %}
        <div class="form-group">
            <label for="form.title.label">{{ form.title.label }}</label>
            {{ form.title }}
        </div>
        <div class="form-group">
            <label for="form.title.label">{{ form.description.label }}</label>
            {{ form.description }}
        </div>
        <div class="form-group">
            <label for="form.title.label">{{ form.imageUrl.label }}</label>
            {{ form.imageUrl }}
        </div>
        <div class="form-group">
            <label for="form.title.label">{{ form.price.label }}</label>
            {{ form.price }}
        </div>
        <div class="form-group">
            <label for="form.category.label">Choose a category</label>
            <select name="category" class="custom-select">
                <option value="" selected>Select or suggest a category (recommended but optional)</option>
                {% for category in categorys %}
                    <option value="{{ category }}">{{ category }}</option>
                {% endfor %}
            </select>
        </div>
        <button type="submit" class="btn btn-success">Create New Listing!</button>
    </form>
{% endblock %}